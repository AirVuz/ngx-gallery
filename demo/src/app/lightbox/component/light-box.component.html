<div *ngIf="lightbox.state | async as state">

  <div *ngIf="state.active" class="lightbox">

    <div class="lightbox-container" [ngStyle]="getContainerStyle()">
      
      <light-box-images [state]="state"></light-box-images>

      <div class="lightbox-image">
        <img [lazyImage]="state.images[state.currIndex].src" (lazyDim)="dim = $event">
        <light-box-nav [state]="state"></light-box-nav>
      </div>

      <div class="lightbox-description">
        <div class="lightbox-text" [innerHtml]="state.images[state.currIndex]?.text"></div>
        <div class="lightbox-number">
          {{(state.currIndex + 1) + '/' + state.images.length}}
        </div>
      </div>

    </div>

    <div class="lightbox-btn-close" (click)="lightbox.close()">CLOSE</div>
    <div class="lightbox-overlay" (click)="lightbox.close()"></div>
  </div>
</div>